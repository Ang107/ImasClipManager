<Window x:Class="ImasClipManager.Views.AdvancedSearchWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="高度な検索" Height="700" Width="550"
        WindowStartupLocation="CenterOwner">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" Background="#F5F5F5" Padding="10" BorderBrush="#DDDDDD" BorderThickness="0,0,0,1">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Text="{Binding SearchResultText}" VerticalAlignment="Center" FontWeight="Bold" FontSize="14"/>

                <Button Grid.Column="1" Content="リセット" Command="{Binding ResetCommand}" Width="80" Margin="0,0,10,0"/>
                <Button Grid.Column="2" Content="検索反映" Command="{Binding ApplySearchCommand}" Width="100" FontWeight="Bold" IsDefault="True"/>
            </Grid>
        </Border>

        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Padding="15">
            <StackPanel>
                <StackPanel.Resources>
                    <Style TargetType="TextBlock">
                        <Setter Property="FontWeight" Value="Bold"/>
                        <Setter Property="Margin" Value="0,10,0,5"/>
                        <Setter Property="Foreground" Value="#333333"/>
                    </Style>
                    <Style TargetType="TextBox">
                        <Setter Property="Padding" Value="3"/>
                        <Setter Property="VerticalContentAlignment" Value="Center"/>
                    </Style>
                </StackPanel.Resources>

                <TextBlock Text="動画ファイルパス (?path)" Margin="0,0,0,5"/>
                <TextBox Text="{Binding Path}"/>

                <TextBlock Text="動画時間 (?duration: min-max)"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <TextBox Grid.Column="0" Text="{Binding MinDuration}" ToolTip="例: 60, 1:00"/>
                    <TextBlock Grid.Column="1" Text=" ～ " VerticalAlignment="Center" Margin="5,0"/>
                    <TextBox Grid.Column="2" Text="{Binding MaxDuration}" ToolTip="例: 120, 2:00"/>
                </Grid>

                <TextBlock Text="クリップ名 (?clip)"/>
                <TextBox Text="{Binding ClipName}"/>

                <TextBlock Text="曲名 (?song)"/>
                <TextBox Text="{Binding SongTitle}"/>

                <TextBlock Text="公演名 (?concert)"/>
                <TextBox Text="{Binding ConcertName}"/>

                <TextBlock Text="公演日 (?date)"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <DatePicker Grid.Column="0" SelectedDate="{Binding ConcertDateFrom}"/>
                    <TextBlock Grid.Column="1" Text=" ～ " VerticalAlignment="Center" Margin="5,0"/>
                    <DatePicker Grid.Column="2" SelectedDate="{Binding ConcertDateTo}"/>
                </Grid>

                <TextBlock Text="ライブ形式 (?type) - 複数選択可(OR)"/>
                <Border BorderBrush="#CCCCCC" BorderThickness="1" CornerRadius="3" Padding="5">
                    <ItemsControl ItemsSource="{Binding LiveTypeList}">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <WrapPanel/>
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <CheckBox Content="{Binding Label}" IsChecked="{Binding IsSelected}" Margin="0,0,15,5"/>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </Border>

                <TextBlock Text="ブランド (?brands) - 複数選択可(OR)"/>
                <Border BorderBrush="#CCCCCC" BorderThickness="1" CornerRadius="3" Padding="5">
                    <ItemsControl ItemsSource="{Binding BrandList}">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <WrapPanel/>
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <CheckBox Content="{Binding Label}" IsChecked="{Binding IsSelected}" Margin="0,0,15,5"/>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </Border>

                <TextBlock Text="出演者 (?performers) - 複数選択可(OR)"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <TextBox Text="{Binding PerformersText}" IsReadOnly="True" Background="#F9F9F9"/>
                    <Button Grid.Column="1" Content="選択..." Command="{Binding SelectPerformersCommand}" Margin="5,0,0,0" Padding="10,0"/>
                </Grid>

                <TextBlock Text="歌詞 (?lyrics)"/>
                <TextBox Text="{Binding Lyrics}"/>

                <TextBlock Text="備考 (?remarks)"/>
                <TextBox Text="{Binding Remarks}"/>

                <Grid Margin="0,15,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="10"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <StackPanel Grid.Column="0">
                        <TextBlock Text="登録日 (?created)" Margin="0,0,0,5"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <DatePicker Grid.Column="0" SelectedDate="{Binding CreatedFrom}"/>
                            <TextBlock Grid.Column="1" Text="～" VerticalAlignment="Center" Margin="2,0"/>
                            <DatePicker Grid.Column="2" SelectedDate="{Binding CreatedTo}"/>
                        </Grid>
                    </StackPanel>
                    <StackPanel Grid.Column="2">
                        <TextBlock Text="更新日 (?updated)" Margin="0,0,0,5"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <DatePicker Grid.Column="0" SelectedDate="{Binding UpdatedFrom}"/>
                            <TextBlock Grid.Column="1" Text="～" VerticalAlignment="Center" Margin="2,0"/>
                            <DatePicker Grid.Column="2" SelectedDate="{Binding UpdatedTo}"/>
                        </Grid>
                    </StackPanel>
                </Grid>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>